@page
@model VOCENuOrderApp.Pages.CustomerSyncLog.IndexModel
@{
    ViewData["Title"] = "Customer Sync Logs";
}

<h1 class="page-heading">Customer Sync Logs</h1>
<p class="page-subheading">View customer synchronization records between Xoro and NuOrder.</p>

<div class="card log-card mb-4">
    <form method="get" class="filter-bar">
        <label>
            Client
            <input type="text" name="client" value="@Model.FilterClient" class="form-control" placeholder="e.g. VOCE" />
        </label>
        <label>
            Customer Code
            <input type="text" name="code" value="@Model.FilterCode" class="form-control" placeholder="Code" />
        </label>
        <label>
            Status
            <input type="text" name="status" value="@Model.FilterStatus" class="form-control" placeholder="Success/Failed" />
        </label>
        <button type="submit" class="btn btn-primary btn-sm">Filter</button>
    </form>

    <div class="table-responsive">
        <table class="table table-log table-hover">
            <thead>
                <tr>
                    <th>Timestamp</th>
                    <th>Client</th>
                    <th>Customer Code</th>
                    <th>Customer Name</th>
                    <th>Status</th>
                    <th>Message</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var log in Model.Logs)
                {
                    <tr>
                        <td>@log.Timestamp.ToString("yyyy-MM-dd HH:mm:ss")</td>
                        <td>@log.Client</td>
                        <td>@log.CustomerCode</td>
                        <td>@log.CustomerName</td>
                        <td>
                            <span class="badge @(log.SyncStatus == "Success" ? "bg-success" : "bg-danger")">@log.SyncStatus</span>
                        </td>
                        <td>@log.Message</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
